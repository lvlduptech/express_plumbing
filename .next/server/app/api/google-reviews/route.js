"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/google-reviews/route";
exports.ids = ["app/api/google-reviews/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgoogle-reviews%2Froute&page=%2Fapi%2Fgoogle-reviews%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgoogle-reviews%2Froute.ts&appDir=F%3A%5Cmanus%5Cexpress%5Cexpress_plumbing%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=F%3A%5Cmanus%5Cexpress%5Cexpress_plumbing&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgoogle-reviews%2Froute&page=%2Fapi%2Fgoogle-reviews%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgoogle-reviews%2Froute.ts&appDir=F%3A%5Cmanus%5Cexpress%5Cexpress_plumbing%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=F%3A%5Cmanus%5Cexpress%5Cexpress_plumbing&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var F_manus_express_express_plumbing_src_app_api_google_reviews_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/google-reviews/route.ts */ \"(rsc)/./src/app/api/google-reviews/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/google-reviews/route\",\n        pathname: \"/api/google-reviews\",\n        filename: \"route\",\n        bundlePath: \"app/api/google-reviews/route\"\n    },\n    resolvedPagePath: \"F:\\\\manus\\\\express\\\\express_plumbing\\\\src\\\\app\\\\api\\\\google-reviews\\\\route.ts\",\n    nextConfigOutput,\n    userland: F_manus_express_express_plumbing_src_app_api_google_reviews_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/google-reviews/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZnb29nbGUtcmV2aWV3cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZ29vZ2xlLXJldmlld3MlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZnb29nbGUtcmV2aWV3cyUyRnJvdXRlLnRzJmFwcERpcj1GJTNBJTVDbWFudXMlNUNleHByZXNzJTVDZXhwcmVzc19wbHVtYmluZyU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9RiUzQSU1Q21hbnVzJTVDZXhwcmVzcyU1Q2V4cHJlc3NfcGx1bWJpbmcmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQzZCO0FBQzFHO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vZXhwcmVzcy1wbHVtYmluZy1uZXh0anMvPzlkM2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRjpcXFxcbWFudXNcXFxcZXhwcmVzc1xcXFxleHByZXNzX3BsdW1iaW5nXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGdvb2dsZS1yZXZpZXdzXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9nb29nbGUtcmV2aWV3cy9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2dvb2dsZS1yZXZpZXdzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9nb29nbGUtcmV2aWV3cy9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkY6XFxcXG1hbnVzXFxcXGV4cHJlc3NcXFxcZXhwcmVzc19wbHVtYmluZ1xcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxnb29nbGUtcmV2aWV3c1xcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvZ29vZ2xlLXJldmlld3Mvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgoogle-reviews%2Froute&page=%2Fapi%2Fgoogle-reviews%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgoogle-reviews%2Froute.ts&appDir=F%3A%5Cmanus%5Cexpress%5Cexpress_plumbing%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=F%3A%5Cmanus%5Cexpress%5Cexpress_plumbing&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/google-reviews/route.ts":
/*!*********************************************!*\
  !*** ./src/app/api/google-reviews/route.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n// src/app/api/google-reviews/route.ts\n\n// --- In-Memory Cache Configuration ---\nlet cachedReviewsData = null;\n// Cache duration: How long to keep reviews in cache before re-fetching.\n// For testing \"newest\", set to 0 AND RESTART YOUR DEV SERVER.\nconst CACHE_DURATION_MS = 1 * 60 * 60 * 1000; // 1 hour (default)\n// const CACHE_DURATION_MS = 0; // Example for testing: disables cache\nasync function GET() {\n    const currentTime = Date.now();\n    // console.log(`[API v1 /google-reviews] Route hit at ${new Date(currentTime).toISOString()}`);\n    // 1. Check Cache\n    if (CACHE_DURATION_MS > 0 && cachedReviewsData && currentTime - cachedReviewsData.timestamp < CACHE_DURATION_MS) {\n        // console.log('[API v1 /google-reviews] CACHE HIT: Returning cached reviews.');\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            reviews: cachedReviewsData.reviews\n        });\n    }\n    // console.log(`[API v1 /google-reviews] CACHE MISS or EXPIRED/DISABLED (Duration: ${CACHE_DURATION_MS}ms). Fetching fresh reviews.`);\n    // 2. Fetch from Google Places API (v1)\n    const apiKey = process.env.GOOGLE_PLACES_API_KEY;\n    const placeId = process.env.GOOGLE_PLACE_ID;\n    if (!apiKey || !placeId) {\n        console.error(\"[API v1 /google-reviews] CRITICAL ERROR: Google API Key or Place ID is not configured.\");\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Server configuration error: API Key or Place ID missing.\"\n        }, {\n            status: 500\n        });\n    }\n    const fields = [\n        \"id\",\n        \"displayName\",\n        \"rating\",\n        \"userRatingCount\",\n        \"reviews.authorAttribution.displayName\",\n        \"reviews.authorAttribution.uri\",\n        \"reviews.authorAttribution.photoUri\",\n        \"reviews.publishTime\",\n        \"reviews.rating\",\n        \"reviews.text.text\",\n        \"reviews.relativePublishTimeDescription\"\n    ].join(\",\");\n    const googleApiUrl = `https://places.googleapis.com/v1/places/${placeId}?fields=${fields}&key=${apiKey}&languageCode=en`;\n    // console.log(`[API v1 /google-reviews] Fetching URL (API key redacted): ${googleApiUrl.replace(apiKey, \"YOUR_API_KEY_REDACTED\")}`);\n    try {\n        const response = await fetch(googleApiUrl, {\n            method: \"GET\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            cache: \"no-store\"\n        });\n        if (!response.ok) {\n            let errorDetails = {\n                message: `Google API responded with status ${response.status}`\n            };\n            try {\n                errorDetails = await response.json();\n            } catch (e) {}\n            console.error(\"[API v1 /google-reviews] Google Places API (v1) error response:\", errorDetails);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: `Failed to fetch reviews from Google (v1): ${response.statusText}`,\n                details: errorDetails\n            }, {\n                status: response.status\n            });\n        }\n        const data = await response.json();\n        if (!data || !data.reviews) {\n            console.warn(\"[API v1 /google-reviews] Google Places API (v1) response missing reviews array or main data. Data:\", data);\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                reviews: [],\n                details: `Google API (v1) response missing reviews.`\n            }, {\n                status: 200\n            });\n        }\n        let fetchedV1Reviews = data.reviews || [];\n        // console.log(`[API v1 /google-reviews] Fetched ${fetchedV1Reviews.length} raw reviews. First author (before sort): ${fetchedV1Reviews[0]?.authorAttribution?.displayName || 'N/A'}`);\n        // ** Sort reviews by publishTime (newest first) **\n        fetchedV1Reviews.sort((a, b)=>{\n            const timeA = a.publishTime ? new Date(a.publishTime).getTime() : 0;\n            const timeB = b.publishTime ? new Date(b.publishTime).getTime() : 0;\n            return timeB - timeA; // Sorts in descending order (newest first)\n        });\n        // console.log(`[API v1 /google-reviews] Reviews sorted. First author (after sort): ${fetchedV1Reviews[0]?.authorAttribution?.displayName || 'N/A'}`);\n        // --- Your Business Logic: e.g., Filter for 5-star reviews ---\n        // If you only want 5-star reviews, this filter will be applied to the newest reviews.\n        // If the newest review isn't 5-star, it won't be included.\n        const fiveStarV1Reviews = fetchedV1Reviews.filter((review)=>review.rating === 5);\n        // console.log(`[API v1 /google-reviews] Filtered to ${fiveStarV1Reviews.length} newest reviews with rating === 5.`);\n        // Transform GoogleV1Review to AppReview format\n        const transformedReviews = fiveStarV1Reviews.map((review, index)=>{\n            const authorName = review.authorAttribution?.displayName || \"Anonymous\";\n            const reviewTimeSeconds = review.publishTime ? Math.floor(new Date(review.publishTime).getTime() / 1000) : Math.floor(Date.now() / 1000);\n            return {\n                author_name: authorName,\n                author_url: review.authorAttribution?.uri,\n                profile_photo_url: review.authorAttribution?.photoUri,\n                rating: review.rating,\n                relative_time_description: review.relativePublishTimeDescription || \"\",\n                text: review.text?.text || \"\",\n                time: reviewTimeSeconds,\n                id: `v1-${reviewTimeSeconds}-${authorName.replace(/\\s+/g, \"-\")}-${index}`\n            };\n        });\n        // 3. Update Cache\n        cachedReviewsData = {\n            reviews: transformedReviews,\n            timestamp: currentTime\n        };\n        // console.log(`[API v1 /google-reviews] Cache updated. New timestamp: ${new Date(currentTime).toISOString()}`);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            reviews: transformedReviews\n        });\n    } catch (error) {\n        console.error(\"[API v1 /google-reviews] CATCH BLOCK: Unexpected error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal server error while fetching reviews (v1).\",\n            details: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9nb29nbGUtcmV2aWV3cy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7OztBQUFBLHNDQUFzQztBQUNLO0FBb0MzQyx3Q0FBd0M7QUFDeEMsSUFBSUMsb0JBR087QUFFWCx3RUFBd0U7QUFDeEUsOERBQThEO0FBQzlELE1BQU1DLG9CQUFvQixJQUFJLEtBQUssS0FBSyxNQUFNLG1CQUFtQjtBQUNqRSxzRUFBc0U7QUFFL0QsZUFBZUM7SUFDcEIsTUFBTUMsY0FBY0MsS0FBS0MsR0FBRztJQUM1QiwrRkFBK0Y7SUFFL0YsaUJBQWlCO0lBQ2pCLElBQUlKLG9CQUFvQixLQUFLRCxxQkFBc0JHLGNBQWNILGtCQUFrQk0sU0FBUyxHQUFHTCxtQkFBb0I7UUFDakgsZ0ZBQWdGO1FBQ2hGLE9BQU9GLHFEQUFZQSxDQUFDUSxJQUFJLENBQUM7WUFBRUMsU0FBU1Isa0JBQWtCUSxPQUFPO1FBQUM7SUFDaEU7SUFFQSxzSUFBc0k7SUFFdEksdUNBQXVDO0lBQ3ZDLE1BQU1DLFNBQVNDLFFBQVFDLEdBQUcsQ0FBQ0MscUJBQXFCO0lBQ2hELE1BQU1DLFVBQVVILFFBQVFDLEdBQUcsQ0FBQ0csZUFBZTtJQUUzQyxJQUFJLENBQUNMLFVBQVUsQ0FBQ0ksU0FBUztRQUN2QkUsUUFBUUMsS0FBSyxDQUFDO1FBQ2QsT0FBT2pCLHFEQUFZQSxDQUFDUSxJQUFJLENBQUM7WUFBRVMsT0FBTztRQUEyRCxHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUNoSDtJQUVBLE1BQU1DLFNBQVM7UUFDYjtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtRQUNBO0tBQ0QsQ0FBQ0MsSUFBSSxDQUFDO0lBRVAsTUFBTUMsZUFBZSxDQUFDLHdDQUF3QyxFQUFFUCxRQUFRLFFBQVEsRUFBRUssT0FBTyxLQUFLLEVBQUVULE9BQU8sZ0JBQWdCLENBQUM7SUFDeEgscUlBQXFJO0lBRXJJLElBQUk7UUFDRixNQUFNWSxXQUFXLE1BQU1DLE1BQU1G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T0FBT2pCLHFEQUFZQSxDQUFDUSxJQUFJLENBQUM7WUFBRVMsT0FBTztZQUFzRGUsU0FBU2YsTUFBTVksT0FBTztRQUFDLEdBQUc7WUFBRVgsUUFBUTtRQUFJO0lBQ2xJO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9leHByZXNzLXBsdW1iaW5nLW5leHRqcy8uL3NyYy9hcHAvYXBpL2dvb2dsZS1yZXZpZXdzL3JvdXRlLnRzPzI1NGEiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gc3JjL2FwcC9hcGkvZ29vZ2xlLXJldmlld3Mvcm91dGUudHNcclxuaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xyXG5cclxuLy8gRGVmaW5lIHRoZSBzdHJ1Y3R1cmUgb2YgYSByZXZpZXcgYXMgZXhwZWN0ZWQgZnJvbSB0aGUgdjEgUGxhY2VzIEFQSVxyXG5pbnRlcmZhY2UgQXV0aG9yQXR0cmlidXRpb24ge1xyXG4gIGRpc3BsYXlOYW1lOiBzdHJpbmc7XHJcbiAgdXJpPzogc3RyaW5nO1xyXG4gIHBob3RvVXJpPzogc3RyaW5nO1xyXG59XHJcblxyXG5pbnRlcmZhY2UgUmV2aWV3VGV4dCB7XHJcbiAgdGV4dDogc3RyaW5nO1xyXG4gIGxhbmd1YWdlQ29kZT86IHN0cmluZztcclxufVxyXG5cclxuaW50ZXJmYWNlIEdvb2dsZVYxUmV2aWV3IHtcclxuICBuYW1lPzogc3RyaW5nOyAvLyBSZXZpZXcgcmVzb3VyY2UgbmFtZVxyXG4gIHJlbGF0aXZlUHVibGlzaFRpbWVEZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIHJhdGluZzogbnVtYmVyO1xyXG4gIHRleHQ/OiBSZXZpZXdUZXh0O1xyXG4gIG9yaWdpbmFsVGV4dD86IFJldmlld1RleHQ7XHJcbiAgYXV0aG9yQXR0cmlidXRpb24/OiBBdXRob3JBdHRyaWJ1dGlvbjtcclxuICBwdWJsaXNoVGltZT86IHN0cmluZzsgLy8gVGltZXN0YW1wIHN0cmluZyAoZS5nLiwgXCIyMDIzLTA1LTEyVDE1OjAwOjAwWlwiKVxyXG59XHJcblxyXG4vLyBEZWZpbmUgdGhlIHN0cnVjdHVyZSBmb3Igb3VyIGFwcGxpY2F0aW9uJ3MgcmV2aWV3IGZvcm1hdFxyXG5pbnRlcmZhY2UgQXBwUmV2aWV3IHtcclxuICBhdXRob3JfbmFtZTogc3RyaW5nO1xyXG4gIGF1dGhvcl91cmw/OiBzdHJpbmc7XHJcbiAgcHJvZmlsZV9waG90b191cmw/OiBzdHJpbmc7XHJcbiAgcmF0aW5nOiBudW1iZXI7XHJcbiAgcmVsYXRpdmVfdGltZV9kZXNjcmlwdGlvbjogc3RyaW5nO1xyXG4gIHRleHQ6IHN0cmluZztcclxuICB0aW1lOiBudW1iZXI7IC8vIFVuaXggdGltZXN0YW1wIChzZWNvbmRzKVxyXG4gIGlkOiBzdHJpbmc7XHJcbn1cclxuXHJcbi8vIC0tLSBJbi1NZW1vcnkgQ2FjaGUgQ29uZmlndXJhdGlvbiAtLS1cclxubGV0IGNhY2hlZFJldmlld3NEYXRhOiB7XHJcbiAgcmV2aWV3czogQXBwUmV2aWV3W107XHJcbiAgdGltZXN0YW1wOiBudW1iZXI7XHJcbn0gfCBudWxsID0gbnVsbDtcclxuXHJcbi8vIENhY2hlIGR1cmF0aW9uOiBIb3cgbG9uZyB0byBrZWVwIHJldmlld3MgaW4gY2FjaGUgYmVmb3JlIHJlLWZldGNoaW5nLlxyXG4vLyBGb3IgdGVzdGluZyBcIm5ld2VzdFwiLCBzZXQgdG8gMCBBTkQgUkVTVEFSVCBZT1VSIERFViBTRVJWRVIuXHJcbmNvbnN0IENBQ0hFX0RVUkFUSU9OX01TID0gMSAqIDYwICogNjAgKiAxMDAwOyAvLyAxIGhvdXIgKGRlZmF1bHQpXHJcbi8vIGNvbnN0IENBQ0hFX0RVUkFUSU9OX01TID0gMDsgLy8gRXhhbXBsZSBmb3IgdGVzdGluZzogZGlzYWJsZXMgY2FjaGVcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQoKSB7XHJcbiAgY29uc3QgY3VycmVudFRpbWUgPSBEYXRlLm5vdygpO1xyXG4gIC8vIGNvbnNvbGUubG9nKGBbQVBJIHYxIC9nb29nbGUtcmV2aWV3c10gUm91dGUgaGl0IGF0ICR7bmV3IERhdGUoY3VycmVudFRpbWUpLnRvSVNPU3RyaW5nKCl9YCk7XHJcblxyXG4gIC8vIDEuIENoZWNrIENhY2hlXHJcbiAgaWYgKENBQ0hFX0RVUkFUSU9OX01TID4gMCAmJiBjYWNoZWRSZXZpZXdzRGF0YSAmJiAoY3VycmVudFRpbWUgLSBjYWNoZWRSZXZpZXdzRGF0YS50aW1lc3RhbXAgPCBDQUNIRV9EVVJBVElPTl9NUykpIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdbQVBJIHYxIC9nb29nbGUtcmV2aWV3c10gQ0FDSEUgSElUOiBSZXR1cm5pbmcgY2FjaGVkIHJldmlld3MuJyk7XHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyByZXZpZXdzOiBjYWNoZWRSZXZpZXdzRGF0YS5yZXZpZXdzIH0pO1xyXG4gIH1cclxuXHJcbiAgLy8gY29uc29sZS5sb2coYFtBUEkgdjEgL2dvb2dsZS1yZXZpZXdzXSBDQUNIRSBNSVNTIG9yIEVYUElSRUQvRElTQUJMRUQgKER1cmF0aW9uOiAke0NBQ0hFX0RVUkFUSU9OX01TfW1zKS4gRmV0Y2hpbmcgZnJlc2ggcmV2aWV3cy5gKTtcclxuXHJcbiAgLy8gMi4gRmV0Y2ggZnJvbSBHb29nbGUgUGxhY2VzIEFQSSAodjEpXHJcbiAgY29uc3QgYXBpS2V5ID0gcHJvY2Vzcy5lbnYuR09PR0xFX1BMQUNFU19BUElfS0VZO1xyXG4gIGNvbnN0IHBsYWNlSWQgPSBwcm9jZXNzLmVudi5HT09HTEVfUExBQ0VfSUQ7XHJcblxyXG4gIGlmICghYXBpS2V5IHx8ICFwbGFjZUlkKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdbQVBJIHYxIC9nb29nbGUtcmV2aWV3c10gQ1JJVElDQUwgRVJST1I6IEdvb2dsZSBBUEkgS2V5IG9yIFBsYWNlIElEIGlzIG5vdCBjb25maWd1cmVkLicpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdTZXJ2ZXIgY29uZmlndXJhdGlvbiBlcnJvcjogQVBJIEtleSBvciBQbGFjZSBJRCBtaXNzaW5nLicgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICB9XHJcblxyXG4gIGNvbnN0IGZpZWxkcyA9IFtcclxuICAgIFwiaWRcIixcclxuICAgIFwiZGlzcGxheU5hbWVcIiwgLy8gUGxhY2UgTmFtZVxyXG4gICAgXCJyYXRpbmdcIiwgICAgICAvLyBPdmVyYWxsIHBsYWNlIHJhdGluZ1xyXG4gICAgXCJ1c2VyUmF0aW5nQ291bnRcIixcclxuICAgIFwicmV2aWV3cy5hdXRob3JBdHRyaWJ1dGlvbi5kaXNwbGF5TmFtZVwiLFxyXG4gICAgXCJyZXZpZXdzLmF1dGhvckF0dHJpYnV0aW9uLnVyaVwiLFxyXG4gICAgXCJyZXZpZXdzLmF1dGhvckF0dHJpYnV0aW9uLnBob3RvVXJpXCIsXHJcbiAgICBcInJldmlld3MucHVibGlzaFRpbWVcIiwgLy8gQ3J1Y2lhbCBmb3Igc29ydGluZyBieSBuZXdlc3RcclxuICAgIFwicmV2aWV3cy5yYXRpbmdcIixcclxuICAgIFwicmV2aWV3cy50ZXh0LnRleHRcIixcclxuICAgIFwicmV2aWV3cy5yZWxhdGl2ZVB1Ymxpc2hUaW1lRGVzY3JpcHRpb25cIlxyXG4gIF0uam9pbignLCcpO1xyXG5cclxuICBjb25zdCBnb29nbGVBcGlVcmwgPSBgaHR0cHM6Ly9wbGFjZXMuZ29vZ2xlYXBpcy5jb20vdjEvcGxhY2VzLyR7cGxhY2VJZH0/ZmllbGRzPSR7ZmllbGRzfSZrZXk9JHthcGlLZXl9Jmxhbmd1YWdlQ29kZT1lbmA7XHJcbiAgLy8gY29uc29sZS5sb2coYFtBUEkgdjEgL2dvb2dsZS1yZXZpZXdzXSBGZXRjaGluZyBVUkwgKEFQSSBrZXkgcmVkYWN0ZWQpOiAke2dvb2dsZUFwaVVybC5yZXBsYWNlKGFwaUtleSwgXCJZT1VSX0FQSV9LRVlfUkVEQUNURURcIil9YCk7XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGdvb2dsZUFwaVVybCwge1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICBoZWFkZXJzOiB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicgfSxcclxuICAgICAgY2FjaGU6ICduby1zdG9yZScsIC8vIFByZXZlbnQgTmV4dC5qcyBmZXRjaCBjYWNoaW5nIG9mIHRoaXMgb3V0Z29pbmcgcmVxdWVzdFxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICBsZXQgZXJyb3JEZXRhaWxzOiBhbnkgPSB7IG1lc3NhZ2U6IGBHb29nbGUgQVBJIHJlc3BvbmRlZCB3aXRoIHN0YXR1cyAke3Jlc3BvbnNlLnN0YXR1c31gIH07XHJcbiAgICAgIHRyeSB7IGVycm9yRGV0YWlscyA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsgfSBjYXRjaCAoZSkgeyAvKiBpZ25vcmUgcGFyc2UgZXJyb3IgKi8gfVxyXG4gICAgICBjb25zb2xlLmVycm9yKCdbQVBJIHYxIC9nb29nbGUtcmV2aWV3c10gR29vZ2xlIFBsYWNlcyBBUEkgKHYxKSBlcnJvciByZXNwb25zZTonLCBlcnJvckRldGFpbHMpO1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogYEZhaWxlZCB0byBmZXRjaCByZXZpZXdzIGZyb20gR29vZ2xlICh2MSk6ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gLCBkZXRhaWxzOiBlcnJvckRldGFpbHMgfSwgeyBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG5cclxuICAgIGlmICghZGF0YSB8fCAhZGF0YS5yZXZpZXdzKSB7XHJcbiAgICAgIGNvbnNvbGUud2FybignW0FQSSB2MSAvZ29vZ2xlLXJldmlld3NdIEdvb2dsZSBQbGFjZXMgQVBJICh2MSkgcmVzcG9uc2UgbWlzc2luZyByZXZpZXdzIGFycmF5IG9yIG1haW4gZGF0YS4gRGF0YTonLCBkYXRhKTtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgcmV2aWV3czogW10sIGRldGFpbHM6IGBHb29nbGUgQVBJICh2MSkgcmVzcG9uc2UgbWlzc2luZyByZXZpZXdzLmAgfSwgeyBzdGF0dXM6IDIwMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICBsZXQgZmV0Y2hlZFYxUmV2aWV3czogR29vZ2xlVjFSZXZpZXdbXSA9IGRhdGEucmV2aWV3cyB8fCBbXTtcclxuICAgIC8vIGNvbnNvbGUubG9nKGBbQVBJIHYxIC9nb29nbGUtcmV2aWV3c10gRmV0Y2hlZCAke2ZldGNoZWRWMVJldmlld3MubGVuZ3RofSByYXcgcmV2aWV3cy4gRmlyc3QgYXV0aG9yIChiZWZvcmUgc29ydCk6ICR7ZmV0Y2hlZFYxUmV2aWV3c1swXT8uYXV0aG9yQXR0cmlidXRpb24/LmRpc3BsYXlOYW1lIHx8ICdOL0EnfWApO1xyXG5cclxuICAgIC8vICoqIFNvcnQgcmV2aWV3cyBieSBwdWJsaXNoVGltZSAobmV3ZXN0IGZpcnN0KSAqKlxyXG4gICAgZmV0Y2hlZFYxUmV2aWV3cy5zb3J0KChhLCBiKSA9PiB7XHJcbiAgICAgIGNvbnN0IHRpbWVBID0gYS5wdWJsaXNoVGltZSA/IG5ldyBEYXRlKGEucHVibGlzaFRpbWUpLmdldFRpbWUoKSA6IDA7XHJcbiAgICAgIGNvbnN0IHRpbWVCID0gYi5wdWJsaXNoVGltZSA/IG5ldyBEYXRlKGIucHVibGlzaFRpbWUpLmdldFRpbWUoKSA6IDA7XHJcbiAgICAgIHJldHVybiB0aW1lQiAtIHRpbWVBOyAvLyBTb3J0cyBpbiBkZXNjZW5kaW5nIG9yZGVyIChuZXdlc3QgZmlyc3QpXHJcbiAgICB9KTtcclxuICAgIC8vIGNvbnNvbGUubG9nKGBbQVBJIHYxIC9nb29nbGUtcmV2aWV3c10gUmV2aWV3cyBzb3J0ZWQuIEZpcnN0IGF1dGhvciAoYWZ0ZXIgc29ydCk6ICR7ZmV0Y2hlZFYxUmV2aWV3c1swXT8uYXV0aG9yQXR0cmlidXRpb24/LmRpc3BsYXlOYW1lIHx8ICdOL0EnfWApO1xyXG5cclxuICAgIC8vIC0tLSBZb3VyIEJ1c2luZXNzIExvZ2ljOiBlLmcuLCBGaWx0ZXIgZm9yIDUtc3RhciByZXZpZXdzIC0tLVxyXG4gICAgLy8gSWYgeW91IG9ubHkgd2FudCA1LXN0YXIgcmV2aWV3cywgdGhpcyBmaWx0ZXIgd2lsbCBiZSBhcHBsaWVkIHRvIHRoZSBuZXdlc3QgcmV2aWV3cy5cclxuICAgIC8vIElmIHRoZSBuZXdlc3QgcmV2aWV3IGlzbid0IDUtc3RhciwgaXQgd29uJ3QgYmUgaW5jbHVkZWQuXHJcbiAgICBjb25zdCBmaXZlU3RhclYxUmV2aWV3cyA9IGZldGNoZWRWMVJldmlld3MuZmlsdGVyKHJldmlldyA9PiByZXZpZXcucmF0aW5nID09PSA1KTtcclxuICAgIC8vIGNvbnNvbGUubG9nKGBbQVBJIHYxIC9nb29nbGUtcmV2aWV3c10gRmlsdGVyZWQgdG8gJHtmaXZlU3RhclYxUmV2aWV3cy5sZW5ndGh9IG5ld2VzdCByZXZpZXdzIHdpdGggcmF0aW5nID09PSA1LmApO1xyXG5cclxuICAgIC8vIFRyYW5zZm9ybSBHb29nbGVWMVJldmlldyB0byBBcHBSZXZpZXcgZm9ybWF0XHJcbiAgICBjb25zdCB0cmFuc2Zvcm1lZFJldmlld3M6IEFwcFJldmlld1tdID0gZml2ZVN0YXJWMVJldmlld3MubWFwKChyZXZpZXcsIGluZGV4KSA9PiB7XHJcbiAgICAgIGNvbnN0IGF1dGhvck5hbWUgPSByZXZpZXcuYXV0aG9yQXR0cmlidXRpb24/LmRpc3BsYXlOYW1lIHx8ICdBbm9ueW1vdXMnO1xyXG4gICAgICBjb25zdCByZXZpZXdUaW1lU2Vjb25kcyA9IHJldmlldy5wdWJsaXNoVGltZSA/IE1hdGguZmxvb3IobmV3IERhdGUocmV2aWV3LnB1Ymxpc2hUaW1lKS5nZXRUaW1lKCkgLyAxMDAwKSA6IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xyXG4gICAgICByZXR1cm4ge1xyXG4gICAgICAgIGF1dGhvcl9uYW1lOiBhdXRob3JOYW1lLFxyXG4gICAgICAgIGF1dGhvcl91cmw6IHJldmlldy5hdXRob3JBdHRyaWJ1dGlvbj8udXJpLFxyXG4gICAgICAgIHByb2ZpbGVfcGhvdG9fdXJsOiByZXZpZXcuYXV0aG9yQXR0cmlidXRpb24/LnBob3RvVXJpLFxyXG4gICAgICAgIHJhdGluZzogcmV2aWV3LnJhdGluZyxcclxuICAgICAgICByZWxhdGl2ZV90aW1lX2Rlc2NyaXB0aW9uOiByZXZpZXcucmVsYXRpdmVQdWJsaXNoVGltZURlc2NyaXB0aW9uIHx8ICcnLFxyXG4gICAgICAgIHRleHQ6IHJldmlldy50ZXh0Py50ZXh0IHx8ICcnLFxyXG4gICAgICAgIHRpbWU6IHJldmlld1RpbWVTZWNvbmRzLFxyXG4gICAgICAgIGlkOiBgdjEtJHtyZXZpZXdUaW1lU2Vjb25kc30tJHthdXRob3JOYW1lLnJlcGxhY2UoL1xccysvZywgJy0nKX0tJHtpbmRleH1gLFxyXG4gICAgICB9O1xyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIC8vIDMuIFVwZGF0ZSBDYWNoZVxyXG4gICAgY2FjaGVkUmV2aWV3c0RhdGEgPSB7XHJcbiAgICAgIHJldmlld3M6IHRyYW5zZm9ybWVkUmV2aWV3cyxcclxuICAgICAgdGltZXN0YW1wOiBjdXJyZW50VGltZSxcclxuICAgIH07XHJcbiAgICAvLyBjb25zb2xlLmxvZyhgW0FQSSB2MSAvZ29vZ2xlLXJldmlld3NdIENhY2hlIHVwZGF0ZWQuIE5ldyB0aW1lc3RhbXA6ICR7bmV3IERhdGUoY3VycmVudFRpbWUpLnRvSVNPU3RyaW5nKCl9YCk7XHJcblxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgcmV2aWV3czogdHJhbnNmb3JtZWRSZXZpZXdzIH0pO1xyXG5cclxuICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICBjb25zb2xlLmVycm9yKCdbQVBJIHYxIC9nb29nbGUtcmV2aWV3c10gQ0FUQ0ggQkxPQ0s6IFVuZXhwZWN0ZWQgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdJbnRlcm5hbCBzZXJ2ZXIgZXJyb3Igd2hpbGUgZmV0Y2hpbmcgcmV2aWV3cyAodjEpLicsIGRldGFpbHM6IGVycm9yLm1lc3NhZ2UgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICB9XHJcbn0iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiY2FjaGVkUmV2aWV3c0RhdGEiLCJDQUNIRV9EVVJBVElPTl9NUyIsIkdFVCIsImN1cnJlbnRUaW1lIiwiRGF0ZSIsIm5vdyIsInRpbWVzdGFtcCIsImpzb24iLCJyZXZpZXdzIiwiYXBpS2V5IiwicHJvY2VzcyIsImVudiIsIkdPT0dMRV9QTEFDRVNfQVBJX0tFWSIsInBsYWNlSWQiLCJHT09HTEVfUExBQ0VfSUQiLCJjb25zb2xlIiwiZXJyb3IiLCJzdGF0dXMiLCJmaWVsZHMiLCJqb2luIiwiZ29vZ2xlQXBpVXJsIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1ldGhvZCIsImhlYWRlcnMiLCJjYWNoZSIsIm9rIiwiZXJyb3JEZXRhaWxzIiwibWVzc2FnZSIsImUiLCJzdGF0dXNUZXh0IiwiZGV0YWlscyIsImRhdGEiLCJ3YXJuIiwiZmV0Y2hlZFYxUmV2aWV3cyIsInNvcnQiLCJhIiwiYiIsInRpbWVBIiwicHVibGlzaFRpbWUiLCJnZXRUaW1lIiwidGltZUIiLCJmaXZlU3RhclYxUmV2aWV3cyIsImZpbHRlciIsInJldmlldyIsInJhdGluZyIsInRyYW5zZm9ybWVkUmV2aWV3cyIsIm1hcCIsImluZGV4IiwiYXV0aG9yTmFtZSIsImF1dGhvckF0dHJpYnV0aW9uIiwiZGlzcGxheU5hbWUiLCJyZXZpZXdUaW1lU2Vjb25kcyIsIk1hdGgiLCJmbG9vciIsImF1dGhvcl9uYW1lIiwiYXV0aG9yX3VybCIsInVyaSIsInByb2ZpbGVfcGhvdG9fdXJsIiwicGhvdG9VcmkiLCJyZWxhdGl2ZV90aW1lX2Rlc2NyaXB0aW9uIiwicmVsYXRpdmVQdWJsaXNoVGltZURlc2NyaXB0aW9uIiwidGV4dCIsInRpbWUiLCJpZCIsInJlcGxhY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/google-reviews/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@opentelemetry"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgoogle-reviews%2Froute&page=%2Fapi%2Fgoogle-reviews%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgoogle-reviews%2Froute.ts&appDir=F%3A%5Cmanus%5Cexpress%5Cexpress_plumbing%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=F%3A%5Cmanus%5Cexpress%5Cexpress_plumbing&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();